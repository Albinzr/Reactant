<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../assets/style.css?t=615badd5">
    <script src="../assets/script.js?t=36f3d457"></script>
    <script src="../scripts/zopim.js?t=f160c13c"></script>
    <title>Introduction - Reactant</title>
    <meta name="viewport" content="width=device-width">
    <script>if (false || window.location.hostname.indexOf("docs.reactant.tech") === window.location.hostname.length - 18) {
        (function(d,o,c,p,r,e,s){d['GoogleAnalyticsObject']=r;d[r]=d[r]||function(){(d[r].q=d[r].q||[]).push(arguments)},d[r].l=1*new Date();e=o.createElement(c),s=o.getElementsByTagName(c)[0];e.async=1;e.src=p;s.parentNode.insertBefore(e,s)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create',"UA-48374666-17",'auto')
      }
    </script>
  </head>
  <body class="-menu-visible">
    <div class="doc-layout">
      <div class="toggle menu-toggle js-menu-toggle"></div>
      <div class="menu toc-menu">
        <li class="menu-item -level-0 -parent">
          <ul class="submenu">
            <li class="menu-item -level-1"><a class="link title  link-index" href="../index.html">Reactant</a>
            </li>
            <li class="menu-item -level-1 -parent"><span class="title">Getting started</span>
              <ul class="submenu">
                <li class="menu-item -level-2"><a class="link title  link-getting-startedquickstart" href="../getting-started/quickstart.html">Quick-start guide</a>
                </li>
                <li class="menu-item -level-2"><a class="link title  link-getting-startedarchitecture" href="../getting-started/architecture.html">Architecture</a>
                </li>
                <li class="menu-item -level-2"><a class="link title  link-getting-startedtroubleshooting" href="../getting-started/troubleshooting.html">Troubleshooting</a>
                </li>
              </ul>
            </li>
            <li class="menu-item -level-1 -parent"><span class="title">Tutorials</span>
              <ul class="submenu">
                <li class="menu-item -level-2"><a class="link title  link-tutorialsnotes" href="../tutorials/notes.html">Simple note taking app</a>
                </li>
                <li class="menu-item -level-2"><a class="link title  link-tutorialsexplorer" href="../tutorials/explorer.html">Random GitHub users explorer</a>
                </li>
              </ul>
            </li>
            <li class="menu-item -level-1 -parent"><span class="title">Reactant UI</span>
              <ul class="submenu">
                <li class="menu-item -level-2"><a class="link title -active link-reactant-uiintroduction" href="../reactant-ui/introduction.html">Introduction</a>
                  <ul class="headings heading-list">
                    <li class="heading-item -depth-2"><a class="hlink link-important-note" href="#important-note">Important Note</a>
                    </li>
                    <li class="heading-item -depth-2"><a class="hlink link-what-is-reactant-ui" href="#what-is-reactant-ui">What is Reactant UI</a>
                    </li>
                    <li class="heading-item -depth-2"><a class="hlink link-why" href="#why">Why</a>
                    </li>
                    <li class="heading-item -depth-2"><a class="hlink link-installation" href="#installation">Installation</a>
                    </li>
                    <li class="heading-item -depth-2"><a class="hlink link-recommended-editor" href="#recommended-editor">Recommended editor</a>
                    </li>
                    <li class="heading-item -depth-2"><a class="hlink link-ui-xml" href="#ui-xml">UI XML</a>
                    </li>
                  </ul>
                </li>
                <li class="menu-item -level-2"><a class="link title  link-reactant-uilive-reload" href="../reactant-ui/live-reload.html">Live Reload</a>
                </li>
              </ul>
            </li>
            <li class="menu-item -level-1 -parent"><span class="title">Parts</span>
              <ul class="submenu">
                <li class="menu-item -level-2"><a class="link title  link-partsconfiguration" href="../parts/configuration.html">Configuration</a>
                </li>
                <li class="menu-item -level-2"><a class="link title  link-partscontroller" href="../parts/controller.html">Controller</a>
                </li>
                <li class="menu-item -level-2"><a class="link title  link-partsrootview" href="../parts/rootview.html">RootView</a>
                </li>
                <li class="menu-item -level-2"><a class="link title  link-partswireframe" href="../parts/wireframe.html">Wireframe</a>
                </li>
                <li class="menu-item -level-2"><a class="link title  link-partsstyling" href="../parts/styling.html">Styling</a>
                </li>
                <li class="menu-item -level-2"><a class="link title  link-partstableview" href="../parts/tableview.html">TableView</a>
                </li>
                <li class="menu-item -level-2"><a class="link title  link-partscollectionview" href="../parts/collectionview.html">CollectionView</a>
                </li>
                <li class="menu-item -level-2"><a class="link title  link-partsvalidation" href="../parts/validation.html">Validation</a>
                </li>
                <li class="menu-item -level-2"><a class="link title  link-partsactivityindicator" href="../parts/activityindicator.html">ActivityIndicator</a>
                </li>
                <li class="menu-item -level-2"><a class="link title  link-partsstaticmap" href="../parts/staticmap.html">StaticMap</a>
                </li>
              </ul>
            </li>
          </ul>
        </li>
      </div>
      <div class="body page-reactant-uiintroduction">
        <div class="header-nav">
          <div class="right"><a class="iconlink" href="https://github.com/Brightify/Reactant" data-title="Brightify/Reactant">
              <!-- span.title Open in GitHub--><span class="icon -github"></span></a>
          </div>
        </div>
        <div class="markdown-body"><h1 id="reactant-ui">Reactant UI</h1>
<h2 id="important-note">Important Note</h2>
<p>Reactant UI is currently a preview. However we&#x2019;ll try to keep the number of API changes to a minimum.</p>
<h2 id="what-is-reactant-ui">What is Reactant UI</h2>
<p><strong>Reactant UI</strong> is an extension of <strong>Reactant</strong> allowing you to declare views and layout using XML. Don&#x2019;t worry, there&#x2019;s no runtime overhead as all those declarations are precompiled into Swift. Reactant then uses the generated code to create your UI.</p>
<h2 id="why">Why</h2>
<p>When we created Reactant, our primary goal was maximal compile-time safety. We devised an API for writing <a href="../getting-started/quickstart.html">views using Reactant</a>, but it was still constrained by Swift&#x2019;s syntax.</p>
<h2 id="installation">Installation</h2>
<p>Reactant UI is available through <a href="http://cocoapods.org">CocoaPods</a>. To install it, add the following line to your application target in your <code>Podfile</code>:</p>
<pre><code class="lang-ruby">pod <span class="pl-s">&apos;ReactantUI&apos;</span>
</code></pre>
<p>This will add Reactant UI source files to your project. After that open your Xcode project, go to <em>Build Phases</em>, and create a new <em>Run Script</em> phase (<code>+</code> button in top left corner -&gt; <code>New Run Script Phase</code>).</p>
<p>Give the new phase a name (e.g. <em>&#x201C;Generate Reactant UI&#x201D;</em>) and move it just above phase called <code>Compile Sources (n items)</code>.</p>
<p>Last step is putting the following shell script into the newly created phase:</p>
<pre><code class="lang-sh"><span class="pl-c1">pushd</span> <span class="pl-s">&quot;<span class="hljs-variable">$PODS_ROOT</span>/ReactantUI&quot;</span>
env -i HOME=<span class="pl-s">&quot;<span class="hljs-variable">$HOME</span>&quot;</span> PATH=<span class="pl-s">&quot;<span class="hljs-variable">$PATH</span>&quot;</span> swift build
<span class="pl-c1">popd</span>
<span class="pl-c"># Run reactant-ui generator and save the output to a single `.swift` file</span>
<span class="pl-s">&quot;<span class="hljs-variable">$PODS_ROOT</span>/ReactantUI/.build/debug/reactant-ui&quot;</span> generate --inputPath=<span class="pl-s">&quot;<span class="hljs-variable">$PROJECT_DIR</span>/Application/&quot;</span> --outputFile=<span class="pl-s">&quot;<span class="hljs-variable">$SRCROOT</span>/Application/Generated/GeneratedUI.swift&quot;</span> --xcodeprojPath=<span class="hljs-variable">$PROJECT_DIR</span>/ReactantUI.xcodeproj
</code></pre>
<h2 id="recommended-editor">Recommended editor</h2>
<p>We recommend downloading <a href="https://atom.io/"><strong>Atom</strong></a> editor and installing <a href="https://atom.io/packages/linter-autocomplete-jing"><strong>linter-autocomplete-jing</strong></a> and <a href="https://atom.io/packages/xml-common-schemata"><strong>xml-common-schemata</strong> </a> plugins. This combination will give you auto-complete support for Reactant&#x2019;s UI XML files.</p>
<h2 id="ui-xml">UI XML</h2>
<p>Reactant UI loads view declarations from XML files ending with <code>.ui.xml</code>. The location of these files is up to you, although we recommend putting them alongside your <code>.swift</code> view files for better file navigation. In <a href="../getting-started/architecture.html">Reactant Architecture Guide</a> we create a very simple, single-screen application with one input and one textfield. Let&#x2019;s recreate the <code>GreeterRootView</code> using Reactant UI.</p>
<p>We begin with creating a new file named <code>GreeterRootView.ui.xml</code>, adding a root element called <code>Component</code> and setting namespace attributes to enable autocompletion.</p>
<pre><code class="lang-xml"><span class="php"><span class="hljs-meta">&lt;?</span>xml version=<span class="pl-s">&quot;1.0&quot;</span> encoding=<span class="pl-s">&quot;UTF-8&quot;</span> <span class="hljs-meta">?&gt;</span></span>
<span class="hljs-tag">&lt;<span class="hljs-name">Component</span>
    <span class="hljs-attr">xmlns</span>=<span class="pl-s">&quot;http://schema.reactant.tech/ui&quot;</span>
    <span class="hljs-attr">xmlns:layout</span>=<span class="pl-s">&quot;http://schema.reactant.tech/layout&quot;</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="pl-s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="pl-s">&quot;http://schema.reactant.tech/ui http://schema.reactant.tech/ui.xsd
                        http://schema.reactant.tech/layout http://schema.reactant.tech/layout.xsd&quot;</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Component</span>&gt;</span>
</code></pre>
<p><strong>NOTE</strong>: Once we release Reactant UI beta, we will freeze schema definitions and release plugin for Atom that will allow omission of <code>xmlns:xsi</code> and <code>xsi:schemaLocation</code> attributes. This will result in simpler declarations.</p>
<p>By default, the name of the file is used as the type name. However, you can override this behavior. To do so, add <code>type</code> attribute to the <code>Component</code> element with the name of your desired type.</p>
<p>You might want to create all <code>.ui.xml</code> at once before writing their Swift counterparts (especially if you use <a href="live-reload.html">Live Reload</a>). Unfortunately, Reactant UI in its current version doesn&#x2019;t scan your Swift files for existing types and generates Swift extensions for every <code>.ui.xml</code> in your project. If you don&#x2019;t have matching classes, you&#x2019;ll get compile errors. The current workaround is setting a value of <code>anonymous</code> attribute to <code>true</code> on the <code>Component</code> element. Reactant UI then generates an empty class which you can then use in your code. Later on you would replace it with your own class and remove the <code>anonymous</code> attribute.</p>
<p>Last <code>Component</code> attribute to keep an eye on is <code>rootView</code>. Setting it to <code>true</code> automatically adds the <code>RootView</code> protocol conformity which allows you to specify <code>extend</code> attribute. This attribute sets the RootView&#x2019;s <code>edgesForExtendedLayout</code> which has similar behavior to <a href="https://developer.apple.com/reference/uikit/uiviewcontroller/1621515-edgesforextendedlayout"><code>UIViewController#edgesForExtendedLayout</code></a>.</p>
<p>Let&#x2019;s go ahead and add the two children our <code>GreeterRootView</code> should have, a label and a text field.</p>
<pre><code class="lang-xml"><span class="php"><span class="hljs-meta">&lt;?</span>xml version=<span class="pl-s">&quot;1.0&quot;</span> encoding=<span class="pl-s">&quot;UTF-8&quot;</span> <span class="hljs-meta">?&gt;</span></span>
<span class="hljs-tag">&lt;<span class="hljs-name">Component</span>
    <span class="hljs-attr">xmlns</span>=<span class="pl-s">&quot;http://schema.reactant.tech/ui&quot;</span>
    <span class="hljs-attr">xmlns:layout</span>=<span class="pl-s">&quot;http://schema.reactant.tech/layout&quot;</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="pl-s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="pl-s">&quot;http://schema.reactant.tech/ui http://schema.reactant.tech/ui.xsd
                        http://schema.reactant.tech/layout http://schema.reactant.tech/layout.xsd&quot;</span>
    <span class="hljs-attr">rootView</span>=<span class="pl-s">&quot;true&quot;</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">Label</span>
        <span class="hljs-attr">text</span>=<span class="pl-s">&quot;Hello World&quot;</span>
        <span class="hljs-attr">textColor</span>=<span class="pl-s">&quot;red&quot;</span>
        <span class="hljs-attr">field</span>=<span class="pl-s">&quot;greeting&quot;</span>
        <span class="hljs-attr">layout:left</span>=<span class="pl-s">&quot;super&quot;</span>
        <span class="hljs-attr">layout:top</span>=<span class="pl-s">&quot;super&quot;</span>
        <span class="hljs-attr">layout:right</span>=<span class="pl-s">&quot;super&quot;</span> /&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">TextField</span>
        <span class="hljs-attr">placeholder</span>=<span class="pl-s">&quot;Name to greet&quot;</span>
        <span class="hljs-attr">field</span>=<span class="pl-s">&quot;nameField&quot;</span>
        <span class="hljs-attr">layout:left</span>=<span class="pl-s">&quot;super&quot;</span>
        <span class="hljs-attr">layout:right</span>=<span class="pl-s">&quot;super&quot;</span>
        <span class="hljs-attr">layout:below</span>=<span class="pl-s">&quot;greeting offset(10)&quot;</span>
        <span class="hljs-attr">layout:bottom</span>=<span class="pl-s">&quot;super&quot;</span>
        <span class="hljs-attr">layout:height</span>=<span class="pl-s">&quot;50&quot;</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Component</span>&gt;</span>
</code></pre>
<p>Each view in the hierarchy has its own properties and we tried to keep same names they have in UIKit. In our example, we set the <code>text</code> attribute for <code>Label</code> element to setup a label with that text. The same applies to the <code>textColor</code> and <code>placeholder</code> attributes.</p>
<p>When you need to create a connection between your Swift code and the UI XML, set the <code>field</code> attribute. This attribute tells Reactant UI to use field with the specified name in the view. Make sure that field (property) has an internal visibility and that the type matches. We also recommend that the field is a constant (<code>let</code> property) because it limits mutability even further.</p>
<p>Last but not least, <code>layout</code> attributes. They are used to declare AutoLayout constraints for your views. Each attribute from the <code>layout</code> namespace accepts a constraint declaration with the following format:</p>
<p><code>[constraintField = ][&gt;=|&lt;=|==] target[.targetAnchor] [modifier...][ @priority]</code></p>
<p>Parts of the declaration should be familiar to you if you use AutoLayout.</p>
<ul>
<li><strong>constraintField</strong> - makes the created constraint accessible in your Swift code (e.g. )</li>
<li><strong>&gt;=|&lt;=|==</strong> - relation of the constraint</li>
<li><strong>target</strong> - The other view to constraint to. Possible values are:
<ul>
<li><code>id:{name}</code> - target a view using <code>layout:id</code> attribute of such view</li>
<li><code>{name}</code> - target a view using <code>field</code> attribute of such view</li>
<li><code>super</code> - parent container (equal to <code>UIView#superview</code>)</li>
<li><code>self</code> - this view, mostly useful for constraining width and height</li>
</ul>
</li>
<li><strong>targetAnchor</strong> - an anchor on the target view to constraint to. Defaults</li>
<li><strong>modifier</strong>
<ul>
<li>Supported modifiers
<ul>
<li><code>offset(value)</code> - constant space between two views</li>
<li><code>inset(value)</code> - constant space between parent and its child view (inside)</li>
<li><code>multiplied(by: value)</code> - multiplier for the constraint</li>
<li><code>divided(by: value)</code> - same function as a multiplier, but using it as 1/value</li>
</ul>
</li>
<li><code>value</code> is any Float number</li>
</ul>
</li>
<li><strong>priority</strong>
<ul>
<li>one of <code>required</code>, <code>high</code>, <code>medium</code>, <code>low</code></li>
<li>any float ranging from 1 to 1000</li>
</ul>
</li>
</ul>
<p>To complete the example we need to write the Swift part of the <code>GreeterRootView</code>. We basically just remove the <code>loadView</code> and <code>setupConstraints</code> methods, make the <code>greeting</code> and <code>nameField</code> properties <code>internal</code> and remove the <code>RootView</code> protocol conformance. And this is what we&#x2019;ll get:</p>
<pre><code class="lang-swift"><span class="pl-k">import</span> Reactant

<span class="pl-k">final</span> <span class="hljs-class"><span class="pl-k">class</span> <span class="pl-ent">GreeterRootView</span>: <span class="pl-ent">ViewBase</span>&lt;(<span class="pl-ent">greeting</span>: <span class="pl-ent">String</span>, <span class="pl-ent">name</span>: <span class="pl-ent">String</span>), <span class="pl-ent">GreeterAction</span>&gt; </span>{
    <span class="pl-k">override</span> <span class="pl-k">var</span> actions: [<span class="hljs-type">Observable</span>&lt;<span class="hljs-type">GreeterAction</span>&gt;] {
        <span class="pl-k">return</span> [
            nameField.action.<span class="pl-c1">map</span>(<span class="hljs-type">GreeterAction</span>.greetingChanged)
        ]
    }

    <span class="pl-k">let</span> greeting = <span class="hljs-type">UILabel</span>()
    <span class="pl-k">let</span> nameField = <span class="hljs-type">UITextField</span>()

    <span class="pl-k">override</span> <span class="hljs-function"><span class="pl-k">func</span> <span class="pl-ent">update</span><span class="hljs-params">()</span></span> {
        greeting.text = <span class="pl-s">&quot;Hello <span class="hljs-subst">\(componentState)</span>!&quot;</span>
        nameField.componentState = componentState
    }
}
</code></pre>
<p>As you can see, when we use the XML to declare views, our Swift code will contain only the code that decides what should be done with <code>componentState</code> in the <code>update()</code> method and it produces actions for owners to handle. At the same time the XML gives us much cleaner UI code as you can see the view&#x2019;s position in the layout and its properties at one place.</p>
<p>This split to XML also allowed us to implement a live UI reloading. It&#x2019;s something that will save quite a lot of development time as you can see every change in the UI without recompilation and redeployment.</p>
<p><a href="live-reload.html"><strong>Learn more about Reactant UI&#x2019;s Live Reload capabilities</strong></a></p>

        </div>
        <div class="footer-nav">
          <div class="left"><a href="../tutorials/explorer.html"><span class="title">Random GitHub users explorer</span></a></div>
          <div class="right"><a href="../reactant-ui/live-reload.html"><span class="label">Next: </span><span class="title">Live Reload</span></a></div>
        </div>
      </div>
    </div>
  </body>
</html>